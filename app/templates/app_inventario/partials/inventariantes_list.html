<div id="inventariante-list" hx-get="{% url 'inventariantes_list' %}" hx-trigger="reload from:body"
  hx-target="#inventariante-list" hx-swap="innerHTML">

  <h5 class="fw-bold text-success text-center">Inventariantes Cadastrados</h5>

  <div class="mb-3">
    {% if user.is_superuser or user.inventariante.presidente %}
    <button class="btn btn-sm btn-outline-success w-100" hx-get="{% url 'inventariante_add' %}" hx-target="#modal-inventariante-body"
      hx-swap="innerHTML" data-bs-toggle="modal" data-bs-target="#modalInventariante">
      Adicionar Inventariante
    </button>
    {% else %}
    <button class="btn btn-success" hx-get="{% url 'inventariante_add' %}" hx-target="#modal-erro-body"
      hx-swap="innerHTML" data-bs-toggle="modal" data-bs-target="#modalErro">
      Adicionar Inventariante
    </button>
    {% endif %}
  </div>

  <!-- WRAPPER RESPONSIVO -->
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-success">
        <tr>
          <th>Matrícula</th>
          <th>Nome</th>
          <th class="d-none d-md-table-cell">Função</th>
          <th class="d-none d-lg-table-cell">Telefone</th>
          <th>E-mail</th>
          <th class="d-none d-lg-table-cell">Ano Atuação</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for inv in inventariantes %}
        <tr>
          <td>{{ inv.matricula }}</td>
          <td>
            {% if inv.user.get_full_name %}
            {{ inv.user.get_full_name }}
            {% else %}
            {{ inv.user.username }}
            {% endif %}
          </td>
          <td class="d-none d-md-table-cell">{{ inv.funcao }}</td>
          <td class="d-none d-lg-table-cell">{{ inv.telefone }}</td>
          <td>{{ inv.user.email }}</td>
          <td class="d-none d-lg-table-cell">{{ inv.ano_atuacao }}</td>
          <td class="text-nowrap">
            <!-- BOTÃO EDITAR -->
            {% if user.is_superuser or user.inventariante.presidente %}
            <button class="btn btn-outline-primary btn-sm me-1" hx-get="{% url 'inventariante_edit' inv.pk %}"
              hx-target="#modal-inventariante-body" hx-swap="innerHTML" data-bs-toggle="modal"
              data-bs-target="#modalInventariante">
              Editar
            </button>
            {% else %}
            <button class="btn btn-outline-primary btn-sm me-1" hx-get="{% url 'inventariante_edit' inv.pk %}"
              hx-target="#modal-erro-body" hx-swap="innerHTML" data-bs-toggle="modal" data-bs-target="#modalErro">
              Editar
            </button>
            {% endif %}

            <!-- BOTÃO EXCLUIR -->
            {% if user.is_superuser or user.inventariante.presidente %}
            <button class="btn btn-sm btn-outline-danger" hx-get="{% url 'inventariante_delete_confirm' inv.pk %}"
              hx-target="#modal-confirm-body" hx-swap="innerHTML" data-bs-toggle="modal" data-bs-target="#modalConfirm">
              Excluir
            </button>
            {% else %}
            <button class="btn btn-sm btn-outline-danger" hx-get="{% url 'inventariante_delete_confirm' inv.pk %}"
              hx-target="#modal-erro-body" hx-swap="innerHTML" data-bs-toggle="modal" data-bs-target="#modalErro">
              Excluir
            </button>



            {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="7" class="text-center text-muted">
            Nenhum inventariante cadastrado.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>