<div id="tabela-patrimonios">
  <table class="table table-hover align-middle">
    <thead class="table-success">
      <tr>
        <th>Nº Patrimônio</th>
        <th>Descrição</th>
        <th>Setor</th>
        <th>Usuário Responsável</th>
        <th>Situação</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for p in patrimonios %}
      <tr>
        <td>{{ p.patrimonio }}</td>
        <td>{{ p.descricao|truncatechars:50 }}</td>
        <td>{{ p.setor }}</td>
        <td>{{ p.usuario.nome }}</td>
        <td>{{ p.get_situacao_display }}</td>
        <td>
          <div class="d-flex flex-md-row flex-column gap-2">
            
            <!-- Botão Editar -->
            <button 
              class="btn btn-sm btn-outline-primary w-100"
              hx-get="{% url 'patrimonio_edit' p.pk %}"
              hx-target="#form-patrimonio-container"
              hx-swap="innerHTML"
              hx-push-url="false">
              Editar
            </button>

            <!-- Botão Excluir -->
            <button 
              class="btn btn-sm btn-outline-danger w-100"
              hx-get="{% url 'confirmar_exclusao_patrimonio' p.pk %}"
              hx-target="#tabela-patrimonios"
              hx-swap="outerHTML">
              Excluir
            </button>
          </div>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center text-muted">Nenhum patrimônio encontrado.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
